<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>GIF 채팅방</title>
</head>
<body>
<div>F12를 눌러 console 탭과 network 탭을 확인하세요.</div>
<script src="/socket.io/socket.io.js"></script>
<script>
    <!-- 서버 주소가 ws로 시작하는 부분 주목-->
    /*const webSocket = new WebSocket("ws://localhost:8005");
    webSocket.onopen = function () { // 서버와 연결이 맺어지는 경우에 대한 이벤트 리스너
        console.log('서버와 웹소켓 연결 성공!');
    };
    webSocket.onmessage = function (event) { // 서버로부터 메세지가 오는 경우에 대한 이벤트 리스너
        console.log(event.data);
        webSocket.send('클라이언트에서 서버로 답장을 보냅니다');
    };*/
    // socket io 활용
    const socket = io.connect('http://localhost:8005', {
        path: '/socket.io',
        transports: ['websocket'],
    });
    socket.on('news', function (data) {
        console.log(data);
        socket.emit('reply', 'Hello Node.JS');
    });
</script>
</body>
</html>